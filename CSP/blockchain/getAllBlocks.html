

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JSON Get</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <script>
    
   
    
	var xmlhttp = new XMLHttpRequest();
    var url ="http://localhost:57772/blockchain/api/getAllBlocks";
    console.log("Hi"); 
	xmlhttp.open("GET", url, true);
    xmlhttp.setRequestHeader("Access-Control-Allow-Origin","*");
    console.log("Hi2"); 
    xmlhttp.setRequestHeader("Access-Control-Allow-Credentials", "true");
     xmlhttp.send();
    console.log("Hi3"); 
    xmlhttp.onreadystatechange = function()
    
	{     console.log("IN Func");
if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
    
		{   console.log("IN ReadySt");
//			console.log(myArr);
		var myArr = JSON.parse(xmlhttp.responseText);
			console.log(myArr);
           var str="<tr><th>ID</th><th>data</th>  <th>hash</th><th>timestamp</th><th>previoushash</th></tr>" ;
            for(var i=0;i<myArr.Blocks.length;i++)
           {
				console.log(myArr.Blocks[i]);
                  str +="<tr><td>"+myArr.Blocks[i].ID+"</td><td>"+myArr.Blocks[i].Data+"</td><td> "+myArr.Blocks[i].Hash+"</td><td>"+myArr.Blocks[i].TimeStamp+"</td><td>"+myArr.Blocks[i].PreviousHash+"</td></tr>";
            }
        document.getElementById('content').innerHTML=str;
        }
	}
   
    </script>
	<script>src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.0/jquery.min.js"></script>
</head>
<body>
<table id="content">
   </table>
</body>
</html>
